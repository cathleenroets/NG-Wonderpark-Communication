<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Panel - Wonderpark community centre</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hamburgers/1.2.1/hamburgers.min.css">
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

</head>

  <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCMQ2Scn4Bwe3LreQ3X9_6dCuEBK8cR2YI",
    authDomain: "kerk-c847c.firebaseapp.com",
    projectId: "kerk-c847c",
    storageBucket: "kerk-c847c.firebasestorage.app",
    messagingSenderId: "779898611341",
    appId: "1:779898611341:web:75e7c2053520e1ba5c24c4"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  const adminEmails = ["cathleen.roets@gmail.com"];

  onAuthStateChanged(auth, (user) => {
    if (!user) {
      alert("⚠️ Please sign in first.");
      window.location.href = "signin.html";
      return;
    }

    if (!adminEmails.includes(user.email)) {
      alert("⛔ Access denied. Admins only.");
      window.location.href = "index.html";
      return;
    }

    console.log("✅ Admin access granted:", user.email);
  });
</script>
  
<body>
  <nav class="navbar" role="navigation" aria-label="Main navigation">
    <a href="index.html" class="brand">Wonderpark community centre</a>
  
    <div class="auth-links">
      <a href="signin.html" class="btn-auth">Sign In</a>
      <a href="signup.html" class="btn-auth btn-signup">Sign Up</a>
    </div>
  
    <button class="hamburger hamburger--spin" id="menu-button" type="button" 
            aria-label="Toggle menu" aria-expanded="false" aria-controls="nav-links">
      <span class="hamburger-box">
        <span class="hamburger-inner"></span>
      </span>
    </button>
  
    <ul class="nav-links" id="nav-links" aria-hidden="true">
      <li><a href="index.html">Home</a></li>
      <li><a href="announcements.html">Announcements</a></li>
      <li><a href="prayer.html">Prayer Requests</a></li>
      <li><a href="needs.html">Needs & Offers</a></li>
      <li><a href="events.html">Events</a></li>
      <li><a href="donate.html">Donate</a></li>
      <li><a href="volunteer.html">Volunteer</a></li>
      <li><a href="contact.html">Contact</a></li>
      <li><a href="admin.html" class="active admin-link">Admin Panel</a></li>
    </ul>
  
    <div class="menu-overlay" id="menu-overlay"></div>
  </nav>

  <main>
    <section id="admin-panel">
      <h2 class="title">Admin Panel</h2>
      <br>
      <div id="admin-auth-check">
        <p>Please sign in with admin credentials to access this panel.</p>
      <br>
        <p>Welcome to the Wonderpark Community Centre admin dashboard. Here you can review community submissions, manage approved content, respond to support requests, and engage with community members through live chat. Our role is to maintain a safe, respectful, and inclusive space while empowering our community to connect and collaborate.</p>
      </div>

      <div id="admin-content" style="display: none;">
        <!-- Tab Navigation -->
        <div class="admin-tabs">
          <button class="admin-tab active" data-tab="pending">Pending Approvals <span id="pending-count" class="badge">0</span></button>
          <button class="admin-tab" data-tab="approved">Approved Posts</button>
          <button class="admin-tab" data-tab="chat">Live Chat <span id="chat-count" class="badge">0</span></button>
          <button class="admin-tab" data-tab="settings">Settings</button>
        </div>

        <!-- Pending Approvals Tab -->
        <div id="pending-tab" class="admin-tab-content active">
          <h3>Pending Approvals</h3>
          <div class="filter-buttons">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="announcements">Announcements</button>
            <button class="filter-btn" data-filter="prayers">Prayers</button>
            <button class="filter-btn" data-filter="needs">Needs & Offers</button>
            <button class="filter-btn" data-filter="events">Events</button>
          </div>
          <div id="pending-items"></div>
        </div>

        <!-- Approved Posts Tab -->
        <div id="approved-tab" class="admin-tab-content">
          <h3>Approved Posts</h3>
          <div class="filter-buttons">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="announcements">Announcements</button>
            <button class="filter-btn" data-filter="prayers">Prayers</button>
            <button class="filter-btn" data-filter="needs">Needs & Offers</button>
            <button class="filter-btn" data-filter="events">Events</button>
          </div>
          <div id="approved-items"></div>
        </div>

        <!-- Live Chat Tab -->
        <div id="chat-tab" class="admin-tab-content">
          <h3>Active Chat Sessions</h3>
          <div id="chat-sessions"></div>
          <div id="active-chat-window" style="display: none;">
            <div class="chat-session-header">
              <h4 id="active-chat-user"></h4>
              <button id="end-chat-session">End Session</button>
            </div>
            <div id="admin-chat-messages" class="admin-chat-messages"></div>
            <div class="admin-chat-input">
              <input type="text" id="admin-chat-input" placeholder="Type your message...">
              <button id="admin-send-chat"><i class="fas fa-paper-plane"></i></button>
            </div>
          </div>
        </div>

        <!-- Settings Tab -->
        <div id="settings-tab" class="admin-tab-content">
          <h3>Admin Settings</h3>
          <div class="settings-section">
            <h4>Email Notifications</h4>
            <label>
              <input type="checkbox" id="email-notifications" checked>
              Receive email notifications for new submissions
            </label>
            <br><br>
            <label>
              Admin Email:
              <input type="email" id="admin-email" placeholder="cathleen.roets@gmail.com">
            </label>
            <button onclick="saveSettings()">Save Settings</button>
          </div>
          <div class="settings-section">
            <h4>Auto-Responses</h4>
            <label>
              Chat Auto-Response:
              <textarea id="chat-auto-response" rows="3">Thank you for contacting us! An admin will be with you shortly.</textarea>
            </label>
            <button onclick="saveSettings()">Save Settings</button>
          </div>
          <div class="settings-section">
            <h4>Admin Management</h4>
            <button onclick="showAdminUsers()">Manage Admin Users</button>
          </div>
        </div>
      </div>
    </section>
  </main>

<footer class="footer">
  <div class="footer-container">

    <!-- Contact -->
    <div class="footer-col contact">
      <h4>Contact Us</h4>
      <p><strong>Phone:</strong> 012 549 1340 / 012 006 0803</p>
      <p><strong>Email:</strong> 
        <a href="mailto:kantoor@ngkerkwonderpark.co.za">
          kantoor@ngkerkwonderpark.co.za
        </a>
      </p>
      <p><strong>Address:</strong> 1849 Berg Ave, Amandasig, Akasia, 0118</p>
    </div>

    <!-- Social -->
    <div class="footer-col social">
      <h4>Follow Us</h4>

      <div class="footer-social">

        <a href="https://www.facebook.com/groups/ngkerkwonderpark/?ref=share&mibextid=KtfwRi"
          target="_blank" rel="noopener noreferrer" aria-label="Facebook">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
            <path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951"/>
          </svg>
        </a>

        <a href="https://www.instagram.com/ngkerkwonderpark?igsh=ODF2Z2xmMml0a2Yy"
          target="_blank" rel="noopener noreferrer" aria-label="Instagram">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.9 3.9 0 0 0-1.417.923A3.9 3.9 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.9 3.9 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.9 3.9 0 0 0-.923-1.417A3.9 3.9 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599s.453.546.598.92c.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.5 2.5 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.5 2.5 0 0 1-.92-.598 2.5 2.5 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233s.008-2.388.046-3.231c.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92s.546-.453.92-.598c.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92m-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217m0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"/>
          </svg>
        </a>

        <a href="https://youtube.com/@ngwonderparklive?si=Ol0UXdWu9rTR7b7r"
          target="_blank" rel="noopener noreferrer" aria-label="YouTube">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.01 2.01 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.01 2.01 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31 31 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.01 2.01 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A100 100 0 0 1 7.858 2zM6.4 5.209v4.818l4.157-2.408z"/>
          </svg>
        </a>

        <a href="https://www.ngkerkwonderpark.co.za/"
          target="_blank" rel="noopener noreferrer" aria-label="Website">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
            <path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m7.5-6.923c-.67.204-1.335.82-1.887 1.855q-.215.403-.395.872c.705.157 1.472.257 2.282.287zM4.249 3.539q.214-.577.481-1.078a7 7 0 0 1 .597-.933A7 7 0 0 0 3.051 3.05q.544.277 1.198.49zM3.509 7.5c.036-1.07.188-2.087.436-3.008a9 9 0 0 1-1.565-.667A6.96 6.96 0 0 0 1.018 7.5zm1.4-2.741a12.3 12.3 0 0 0-.4 2.741H7.5V5.091c-.91-.03-1.783-.145-2.591-.332M8.5 5.09V7.5h2.99a12.3 12.3 0 0 0-.399-2.741c-.808.187-1.681.301-2.591.332zM4.51 8.5c.035.987.176 1.914.399 2.741A13.6 13.6 0 0 1 7.5 10.91V8.5zm3.99 0v2.409c.91.03 1.783.145 2.591.332.223-.827.364-1.754.4-2.741zm-3.282 3.696q.18.469.395.872c.552 1.035 1.218 1.65 1.887 1.855V11.91c-.81.03-1.577.13-2.282.287zm.11 2.276a7 7 0 0 1-.598-.933 9 9 0 0 1-.481-1.079 8.4 8.4 0 0 0-1.198.49 7 7 0 0 0 2.276 1.522zm-1.383-2.964A13.4 13.4 0 0 1 3.508 8.5h-2.49a6.96 6.96 0 0 0 1.362 3.675c.47-.258.995-.482 1.565-.667m6.728 2.964a7 7 0 0 0 2.275-1.521 8.4 8.4 0 0 0-1.197-.49 9 9 0 0 1-.481 1.078 7 7 0 0 1-.597.933M8.5 11.909v3.014c.67-.204 1.335-.82 1.887-1.855q.216-.403.395-.872A12.6 12.6 0 0 0 8.5 11.91zm3.555-.401c.57.185 1.095.409 1.565.667A6.96 6.96 0 0 0 14.982 8.5h-2.49a13.4 13.4 0 0 1-.437 3.008M14.982 7.5a6.96 6.96 0 0 0-1.362-3.675c-.47.258-.995.482-1.565.667.248.92.4 1.938.437 3.008zM11.27 2.461q.266.502.482 1.078a8.4 8.4 0 0 0 1.196-.49 7 7 0 0 0-2.275-1.52c.218.283.418.597.597.932m-.488 1.343a8 8 0 0 0-.395-.872C9.835 1.897 9.17 1.282 8.5 1.077V4.09c.81-.03 1.577-.13 2.282-.287z"/>
          </svg>
        </a>

      </div>
    </div>
  </div> <!-- END footer-container -->

  <div class="footer-bottom">
    &copy; 2025 Wonderpark Community Centre | Website by Cathleen Roets
    (<a href="https://www.instagram.com/cat1roets?utm_source=qr&igsh=MXN4YzByOGg0ZjRpdA==" target="_blank" rel="noopener noreferrer">Instagram</a> · 
    <a href="https://www.facebook.com/share/1BkBQZEUyR/" target="_blank" rel="noopener noreferrer">Facebook</a>)
  </div>
</footer>

  <script src="scripts.js"></script>
  <script src="admin.js"></script>
</body>
</html>

